import { toImageData, applyColormap } from '../utils.js'; import { Debug } from '../debug.js'; import { getCurrentImage } from './original.js'; export function initTopView(){ const canvas=document.getElementById('topview-canvas'); const ctx=canvas.getContext('2d'); const legend=document.getElementById('legend'); function render(){ const img=getCurrentImage(); if(!img) return; const imgData=toImageData(img,1024); canvas.width=imgData.width; canvas.height=imgData.height; const mapped=applyColormap(imgData,'jet'); ctx.putImageData(mapped,0,0); legend.textContent='Top View: '+imgData.width+'Ã—'+imgData.height; Debug.log('TopView rendered'); } window.CncAi=window.CncAi||{}; window.CncAi.renderTopView=()=>{ return render(); }; }